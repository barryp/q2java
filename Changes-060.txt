CHANGES from v0.5.7 to v0.6.0

---------------------------------------------------------------------------
This file will just list changes in the core packages 
(q2java, q2jgame, baseq2). Add-ons will have to list their own changes.
---------------------------------------------------------------------------

DLL CHANGES ===============================================================

This week, I reworked the javalink_win32.c file - adopting some bits from
gorilla's javalink_Solaris.c, to come up with a javalink_generic.c that 
-should- work both on Win32 and Unix platforms.  The goofy crap I had 
in there that stored pointers and handles in CVARs has been removed.

Several C functions had some more parameter checking added so they don't
flame out when null Strings are passed as parameters.

The various print functions (dprint, cprint, bprint, centerprint) now
use a custom Unicode->7-bit ASCII converter that converts accented 
Latin characters to their nearest non-accent equivalent, rather than
letting them turn to garbage like the default Unicode->UTF-8 translation
would do.

Found that it is possible, if the timing is right, to cause the engine
to call the DLL  clientConnect twice or more without intervening calls
to the DLL clientDisconnect function.  This would cause strange things like
receiving multiple obits and other print messages (because multiple
Java NativeEntity and Player objects would be created that refer
to a single C edict_t).  Updated code in player.c to catch this occurance, 
and make sure that the Player.playerDisconnect() is called before any 
reconnect proceeds.
    
JAVA CHANGES ==============================================================

q2java.Q2JavaSecurityManager

    Changed: Removed several newlines from Engine.debugLog() calls that
             _Quinn pointed out as being extra.
             
q2jgame.Game

    Added:   addLocaleListener() methods let objects register to be called
             when localized messages are being broadcast (localecast?)
             
             removeLocaleListener() method let's objects remove themselves
             
             localecast() method lets you broadcast messages that get
             formatted for various locales.
             
             getResourceGroup() lets you get a hold of a ResourceGroup
             object that's managing a given locale   
             
             isResourceAvailable() for checking whether a given 
             basename/key pair is available (was useful for checking if
             an obituary actually existed, or whether we should use a 
             default death message)
             
             randomInt(), randomFloat(), cRandom() moved here from
             baseq2.MiscUtil.
             
    Changed: getSpawnArg() methods for ints and floats updated to return
             default values when there's a parsing error, instead of 
             throwing an exception.

q2jgame.LocaleListener

    New Interface for classes that want to register to be called when 
    localized broadcasts are being made.  Currently implemented by 
    baseq2.Player and barryp.telnet.TelnetServer
    
q2jgame.ResourceGroup

    New class to track groups of ResourceBundles and LocaleListeners
    that share a given locale.
    
baseq2.Corpse

    Changed: Corpses now disappear on their own after 45 seconds, rather
             than lying around for an indefinite period of time.
             
baseq2.GenericItem

    Changed: Should now precache icons, hopefully doing away with the
             bug where "can't find pic" was ocassionally displayed.
                                
baseq2.MiscUtil

    Changed: randomInt(), randomFloat(), cRandom() moved to q2jgame.Game,
             many classes needed to be updated to reflect this change. 
             
baseq2.Player

    Added:   support for receiving localized broadcasts                                                 
    
             playerVariableChanged() method now called whenever a 
             player variable is changed (imagine that!), replaces 
             functionality of applyPlayerInfo() method.  Should be easier
             for addon modules to override.
             
             say() and sayTeam() methods handle the actual broadcasting
             of chats.  Made things easier for bots, and should be easy
             for mods like CTF to override.
    
    Changed: many player messages are now taken from ResourceBundles rather
             than being hardcoded into the class.
             
             All references to "fUserInfo" changed to "fPlayerInfo" for 
             consistency
             
             getUserInfo() renamed to getPlayerInfo(), setUserInfo() 
             renamed to setPlayerInfo() - all for consistency
             
             cmd_say() now calls the new say() method to do the actual 
             broadcast. (was helpful in letting bots talk)
             
             cmd_say_team() now calls the new sayTeam() method
             
    Removed: applyPlayerInfo() method removed   
    
             obituary() method removed, the die() method takes care of 
             making a broadcast.  
             
             parsePlayerInfo() removed, playerInfoChanged() handles 
             parsing the playerinfo strings and calling playerVariableChanged()
             when it detects that something has changed.        


The properties files that held obituaries "obit*.properties" were renamed
to "Messages*.properties", and some new keys added.  Bernd supplied a German 
translation of the obituaries.  Both the Dutch and German versions will
need the new keys translated, but until then the default English messages
will be displayed.

There were quite a few classes affected by moving the randomInt(), randomFloat(), 
and cRandom() methods from baseq2.MiscUtil to q2jgame.Game - and I won't bother 
listing them all here.

----------- End of List -------------------------------------------------------             